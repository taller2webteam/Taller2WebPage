<!DOCTYPE html>




<html class="" lang="es"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>IoT Dashboard - Monitor de Consumo</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<!-- Tailwind removed: using pure CSS in assets/css/index.css -->
<link rel="stylesheet" href="assets/css/index.css"/>
</head>
<body>
<div class="app-root">
<aside class="sidebar">
<div class="flex flex-col gap-4 mb-8">
<div class="flex items-center gap-3">
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10" data-alt="Company Logo" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCT4HRjq1HodxrZMYSxP6S_2upZugO-RNXda9jomiJJilPZKz7TXe8uyYJU_EsQc02xPiPTBFHYDu3wS-AllTQwTGEIVbXiN4XecAht_rkzx0QFLeSR0oXs3-DmP5jMyWdsSsVx8hO8QI8U8ouqQujkD0QoAoBIySf1utoFOi__LHI11QACxYRVaJrpmukp7Doj8XVrHeCYjaR_kNNPAQnqX-GvWEokXYV1sMvvlHWly0QKaOVWG08ZDn_1k2naDohO9F4QjDnjd8OQ");'></div>
<div class="flex flex-col">
<h1 class="text-white text-base font-medium leading-normal font-display">IoT Service</h1>
<p class="text-[#92adc9] text-sm font-normal leading-normal font-display">Real-Time Monitoring</p>
</div>
</div>
</div>
<nav>
<a class="sidebar-link active" href="index.html">
<span class="material-symbols-outlined text-white text-[24px]">query_stats</span>
<p class="text-white text-sm font-medium leading-normal font-display">Panel de Control</p>
</a>
<a class="sidebar-link" href="devices.html">
<span class="material-symbols-outlined text-white text-[24px]">devices</span>
<p class="text-white text-sm font-medium leading-normal font-display">Dispositivos</p>
</a>
<a class="sidebar-link" href="consumo.html">
<span class="material-symbols-outlined text-white text-[24px]">bolt</span>
<p class="text-white text-sm font-medium leading-normal font-display">Consumo de Luz</p>
</a>
<a class="sidebar-link" href="sugerencias.html">
<span class="material-symbols-outlined text-white text-[24px]">lightbulb</span>
<p class="text-white text-sm font-medium leading-normal font-display">Sugerencias de Consumo</p>
</a>
<a class="sidebar-link" href="contactanos.html">
<span class="material-symbols-outlined text-white text-[24px]">contact_support</span>
<p class="text-white text-sm font-medium leading-normal font-display">Contáctanos</p>
</a>
</nav>
<div class="sidebar-bottom">
<a class="sidebar-link" href="#">
<span class="material-symbols-outlined text-white text-[24px]">help</span>
<p class="text-white text-sm font-medium leading-normal font-display">Support</p>
</a>
<a class="sidebar-link" href="#">
<span class="material-symbols-outlined text-white text-[24px]">logout</span>
<p class="text-white text-sm font-medium leading-normal font-display">Log out</p>
</a>
</div>
</aside>
<main>
<div class="container">
<header>
<div class="flex flex-col">
<h1 class="text-gray-900 dark:text-white text-3xl md:text-4xl font-black leading-tight tracking-[-0.033em] font-display">Dashboard</h1>
</div>
<div class="flex items-center gap-4">
<button class="flex items-center justify-center h-10 w-10 rounded-full hover:bg-gray-200 dark:hover:bg-primary/20">
<span class="material-symbols-outlined text-gray-600 dark:text-gray-300">notifications</span>
</button>
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10" data-alt="User profile picture" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuC-LoHX2hlm1DBoWTpaBA2YP3PnAQ3Zj8HGS0y3TIZSAZy8j0aRfky4WP3aOhwig1vhanrXDd_0upqtJ4GEj-V-ElE3t7wCg5U3ivkgZWCa-3URwe46kAG9KYa_snDQNTis1asekMqwW56Gf-u8wYo5Psc88gApS1T07gOp3AxfCXGXw_ZiOcxg6j3CVGE5aqz20Vt_cxs-6E9hnjV7jC6Tpr-U_21rZGa0ge8MPKCU1C_0Cb_wwzQ1Qge_lUjxtpLjvg2M3LEQeYoO");'></div>
</div>
</header>
<div class="filter-bar">
<div class="filters">
<button class="btn" id="toggleMonitoring" style="background: #10b981; color: white;">
<span class="material-symbols-outlined text-white text-[20px]">play_arrow</span>
<span>Iniciar Monitoreo</span>
</button>
</div>
</div>
<div class="card mb-6" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none;">
<div class="flex items-center gap-3 mb-2">
<span class="material-symbols-outlined" style="font-size: 32px;">developer_board</span>
<div>
<p class="text-white text-sm font-medium opacity-90">Dispositivo Conectado</p>
<p class="text-white text-2xl font-bold">Entrada ESP32 Prueba</p>
</div>
</div>
<div class="flex items-center gap-2 mt-2">
<span class="w-2 h-2 rounded-full" style="background: #10b981;" id="connection-status-dot"></span>
<span class="text-white text-sm opacity-90" id="device-status">En espera</span>
</div>
</div>

<!-- Tarjeta de Configuración IP -->
<div class="card mb-6" style="border: 2px solid #3b82f6;">
<div class="flex items-center justify-between mb-4">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-[#3b82f6]" style="font-size: 32px;">router</span>
<div>
<p class="text-gray-900 dark:text-white text-lg font-bold">Configuración de Conexión</p>
<p class="text-gray-600 dark:text-gray-300 text-sm">Ingresa la IP de tu ESP32 para conectar</p>
</div>
</div>
</div>
<div class="flex flex-col md:flex-row gap-4">
<div class="flex-1">
<label for="esp32-ip-input-main" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
Dirección IP del ESP32
</label>
<input 
  type="text" 
  id="esp32-ip-input-main" 
  placeholder="Ejemplo: 192.168.1.100" 
  class="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:border-[#3b82f6] dark:bg-[#1a2332] dark:text-white transition-colors"
  value="192.168.1.100"
/>
</div>
<div class="flex gap-2 items-end">
<button 
  id="save-ip-btn" 
  class="btn btn-primary h-[52px] px-6"
  style="white-space: nowrap;"
>
<span class="material-symbols-outlined text-white text-[20px]">save</span>
<span>Guardar IP</span>
</button>
<button 
  id="test-connection-btn" 
  class="btn h-[52px] px-4"
  style="background: #10b981; color: white;"
>
<span class="material-symbols-outlined text-white text-[20px]">wifi_find</span>
<span class="hidden md:inline">Probar</span>
</button>
</div>
</div>
<div id="connection-feedback" class="mt-3" style="display: none;">
<!-- El feedback se mostrará aquí -->
</div>
</div>

<div class="stats-grid">
<div>
<p class="text-gray-600 dark:text-white text-base font-medium leading-normal font-display">Corriente (A)</p>
<p class="text-gray-900 dark:text-white tracking-light text-3xl font-bold leading-tight font-display" id="current-value">-- A</p>
<p class="text-[#6b7280] text-base font-medium leading-normal font-display">Esperando datos...</p>
</div>
<div>
<p class="text-gray-600 dark:text-white text-base font-medium leading-normal font-display">Voltaje (V)</p>
<p class="text-gray-900 dark:text-white tracking-light text-3xl font-bold leading-tight font-display" id="voltage-value">-- V</p>
<p class="text-[#6b7280] text-base font-medium leading-normal font-display">Esperando datos...</p>
</div>
<div>
<p class="text-gray-600 dark:text-white text-base font-medium leading-normal font-display">Potencia (W)</p>
<p class="text-gray-900 dark:text-white tracking-light text-3xl font-bold leading-tight font-display" id="power-value">-- W</p>
<p class="text-[#6b7280] text-base font-medium leading-normal font-display">Esperando datos...</p>
</div>
<div>
<p class="text-gray-600 dark:text-white text-base font-medium leading-normal font-display">Costo Estimado Mensual</p>
<p class="text-gray-900 dark:text-white tracking-light text-3xl font-bold leading-tight font-display" id="cost-value">$--</p>
<p class="text-[#6b7280] text-base font-medium leading-normal font-display" id="cost-trend">Esperando datos...</p>
</div>
</div>
<div class="card mb-6" id="alerts-section" style="display: none;">
<div class="flex justify-between items-start mb-4">
<div>
<p class="text-gray-600 dark:text-white text-lg font-medium leading-normal font-display">Alertas en Tiempo Real</p>
<p class="text-gray-500 text-sm">Notificaciones del sensor de flama</p>
</div>
<button class="icon-btn" onclick="document.getElementById('alerts-section').style.display='none'">
<span class="material-symbols-outlined text-gray-600 dark:text-gray-300">close</span>
</button>
</div>
<div id="alerts-container" class="flex flex-col gap-3">
<!-- Las alertas se cargarán dinámicamente -->
</div>
</div>
<div class="card">
<p class="text-gray-600 dark:text-white text-lg font-medium leading-normal font-display mb-4">Sensores ESP32 IoT Device</p>
<div class="flex flex-col gap-4">
<div class="flex items-center justify-between p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-blue-500 text-3xl">electric_bolt</span>
<div>
<p class="font-bold text-gray-900 dark:text-white">Sensor de Corriente ACS712</p>
<p class="text-sm text-gray-600 dark:text-gray-300">Mide corriente eléctrica en tiempo real</p>
</div>
</div>
<span class="w-3 h-3 rounded-full bg-blue-500"></span>
</div>
<div class="flex items-center justify-between p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-orange-500 text-3xl">local_fire_department</span>
<div>
<p class="font-bold text-gray-900 dark:text-white">Sensor de Flama FZ0430</p>
<p class="text-sm text-gray-600 dark:text-gray-300">Detecta presencia de fuego</p>
</div>
</div>
<span class="w-3 h-3 rounded-full bg-orange-500"></span>
</div>
</div>
</div>
</div>
</main>
</div>

<!-- Chat Button -->
<button id="chatButton" class="chat-fab">
  <span class="material-symbols-outlined">chat</span>
</button>

<!-- Chat Window -->
<div id="chatWindow" class="chat-window">
  <div class="chat-header">
    <div class="flex items-center gap-2">
      <span class="material-symbols-outlined">smart_toy</span>
      <h3>Asistente Virtual</h3>
    </div>
    <button id="closeChat" class="chat-close-btn">
      <span class="material-symbols-outlined">close</span>
    </button>
  </div>
  <div id="chatMessages" class="chat-messages">
    <div class="chat-message assistant-message">
      <div class="message-avatar">
        <span class="material-symbols-outlined">smart_toy</span>
      </div>
      <div class="message-content">
        ¡Hola! Soy tu asistente virtual. ¿En qué puedo ayudarte hoy?
      </div>
    </div>
  </div>
  <div class="chat-input-container">
    <input type="text" id="chatInput" class="chat-input" placeholder="Escribe tu mensaje...">
    <button id="sendMessage" class="chat-send-btn">
      <span class="material-symbols-outlined">send</span>
    </button>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  var path = location.pathname.split('/').pop() || 'index.html';
  document.querySelectorAll('.sidebar a.sidebar-link').forEach(function(a) {
    var href = a.getAttribute('href');
    if (href === path) { a.classList.add('active'); }
    else { a.classList.remove('active'); }
  });
});
</script>

<!-- ESP32 API Client -->
<script src="assets/js/esp32-api.js"></script>

<!-- Real-Time Monitoring -->
<script src="assets/js/real-time-monitor.js"></script>

<!-- Chat Configuration & Script -->
<script src="assets/js/chat-config.js"></script>
<script src="assets/js/chat.js"></script>
</body></html>